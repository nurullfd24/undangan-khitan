<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Undangan Khitan</title>
<style>
* { box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
body {
  margin: 0; min-height: 100vh;
  background: linear-gradient(180deg,#8b0000,#b22222);
  color: #fff;
  overflow: hidden;
}

/* CARD UTAMA (SCROLLABLE) */
.card {
  max-width: 420px; width: 100%;
  background: rgba(255,255,255,0.12);
  backdrop-filter: blur(6px);
  border-radius: 20px; padding: 24px; text-align: center;
  display: none;
  max-height: 95vh; 
  overflow-y: auto; 
  -webkit-overflow-scrolling: touch;
}

h1{font-size:26px;margin:8px 0} 
h2{font-size:20px;margin:8px 0} 
.guest{margin:10px 0;font-size:16px}

/* Slider 3:4 */
.slider{position:relative;width:100%;padding-top:133.33%; overflow:hidden;border-radius:16px;margin:16px 0}
.slide{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;transform: translateX(100%);transition: transform .6s ease;}
.slide.active{ transform: translateX(0); }
.slide.prev{ transform: translateX(-100%); }
.slide.active{opacity:1}

.section{margin-top:22px}
.section h3{margin-bottom:8px;font-size:18px;border-bottom:1px solid rgba(255,255,255,.3);padding-bottom:6px}
.btn{width:100%;padding:12px;border-radius:12px;border:none;margin-top:8px;font-size:15px}
.btn-green{background:#2ecc71;color:#fff}
.btn-red{background:#e74c3c;color:#fff}
.btn-gold{background:#f1c40f;color:#000}
footer{margin-top:24px;font-size:12px;opacity:.85}

.dots{position:absolute;bottom:10px;left:50%;transform:translateX(-50%);display:flex;gap:6px}
.dot{width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,.4)}
.dot.active{background:#fff}

/* POP-UP */
#popup {
  position: fixed; top:0; left:0; width:100%; height:100%;
  background: rgba(0,0,0,0.7);
  display:flex; justify-content:center; align-items:center;
  z-index:1000;
}
#popupContent {
  background:#fff; color:#000; padding:20px; border-radius:16px; text-align:center; max-width:320px;
}
#popupContent button {
  margin-top:12px; padding:10px 16px; border:none; border-radius:10px;
  background:#b22222; color:#fff; font-size:16px; cursor:pointer;
}
</style>
</head>
<body>

<!-- POP-UP NAMA TAMU -->
<div id="popup">
  <div id="popupContent">
    <p>Kepada Yth:</p>
    <h2 id="popupGuestName">Tamu Undangan</h2>
    <button onclick="enterInvitation()">Buka Undangan</button>
  </div>
</div>

<div class="card" id="invitationCard">
  <div class="guest"><strong id="guestName">Tamu Undangan</strong></div>

  <h2>Assalamu‚Äôalaikum Wr Wb</h2>
  <p style="font-size:14px;line-height:1.6">
    Dengan memohon rahmat dan ridho Allah SWT, kami mengundang Bapak/Ibu/Saudara/i untuk hadir dan mendoakan putra kami:
  </p>

  <h1>Achmad Ismail</h1>

  <!-- SLIDER FOTO 3:4 -->
  <div class="slider" id="slider">
    <img src="khitan/foto1.jpg" class="slide active">
    <img src="khitan/foto2.jpg" class="slide">
    <img src="khitan/foto3.jpg" class="slide">
    <img src="khitan/foto4.jpg" class="slide">
    <img src="khitan/foto5.jpg" class="slide">
    <div class="dots" id="dots"></div>
  </div>

  <div class="section">
    <p style="font-size:14px;line-height:1.6">
      yang insya Allah dilaksanakan pada:
    </p>
  </div>

  <div class="section">
    <h3>üìÖ Detail Acara</h3>
    <p>Minggu, 25 Januari 2026<br>Pukul 09.00 WIB<br>Jakarta Utara</p>
    <p id="countdown">‚è≥ Menghitung waktu...</p>
    <p>Hiburan: Orkes Dangdut</p>
    <a href="https://www.google.com/maps/place/Kost+Danis/@-6.1280686,106.8743555,47m" target="_blank">
      <button class="btn btn-gold">üìç Buka Google Maps</button>
    </a>
  </div>

  <div class="section">
    <h3>ü§≤ Doa Khitan</h3>
    <p style="font-size:14px;line-height:1.6">
      Ya Allah, jadikanlah anak kami anak yang sholeh, sehat, dan berbakti. Aamiin.
    </p>
  </div>

  <div class="section">
    <h3>üéÅ Kirim Kado</h3>
    <p style="font-size:14px">üì¶ Jl.Papanggo 3B Rt012/Rw005 No.30 Kel.Papanggo Kec.Tg Priok<br>üí≥ DANA 08xxxx a.n. Orang Tua</p>
  </div>

  <footer>Terima kasih atas doa & kehadirannya ü§ç wassalammualaikum wr wb</footer>
</div>

<audio id="music" loop>
  <source src="backsound.mp3" type="audio/mpeg">
</audio>

<script>
/* ===== NAMA TAMU OTOMATIS ===== */
const params = new URLSearchParams(window.location.search);
const guest = params.get('to');
const guestName = guest ? guest.replace(/\+/g,' ') : 'Tamu Undangan';
document.getElementById('popupGuestName').innerText = guestName;
document.getElementById('guestName').innerText = guestName;

/* ===== BUKA UNDANGAN + MAINKAN MUSIK OTOMATIS ===== */
function enterInvitation(){
  document.getElementById('popup').style.display = 'none';
  document.getElementById('invitationCard').style.display = 'block';
  document.getElementById('music').play().catch(e=>{
    console.log("Autoplay diblokir, klik tombol musik untuk memulai");
  });
}

/* ===== SLIDER FOTO ===== */
let index = 0;
const slides = document.querySelectorAll('.slide');
const dotsContainer = document.getElementById('dots');
const slider = document.getElementById('slider');

slides.forEach((_,i)=>{
  const d = document.createElement('div');
  d.className = 'dot' + (i===0?' active':'');
  dotsContainer.appendChild(d);
});
const dots = document.querySelectorAll('.dot');

function showSlide(i){
  slides.forEach((s,idx)=>{
    s.classList.remove('active','prev');
    if(idx === i) s.classList.add('active');
    else if(idx === i-1) s.classList.add('prev');
  });
  dots.forEach(d=>d.classList.remove('active'));
  dots[i].classList.add('active');
  index = i;
}
function next(){ showSlide((index+1)%slides.length); }
function prev(){ showSlide((index-1+slides.length)%slides.length); }

let startX = 0;
slider.addEventListener('touchstart',e=>{ startX = e.touches[0].clientX; });
slider.addEventListener('touchend',e=>{
  const endX = e.changedTouches[0].clientX;
  if(startX - endX > 50) next();
  if(endX - startX > 50) prev();
});

setInterval(next,4000);

/* ===== COUNTDOWN ===== */
const eventDate = new Date('2026-01-25T09:00:00').getTime();
const cd = document.getElementById('countdown');
setInterval(() => {
  const now = new Date().getTime();
  const diff = eventDate - now;
  if(diff <= 0){ cd.innerHTML = 'üéâ Acara sedang berlangsung'; return; }
  const d = Math.floor(diff / (1000*60*60*24));
  const h = Math.floor((diff / (1000*60*60)) % 24);
  const m = Math.floor((diff / (1000*60)) % 60);
  cd.innerHTML = `‚è≥ ${d} hari ${h} jam ${m} menit`;
}, 1000);
</script>
</body>
</html>
